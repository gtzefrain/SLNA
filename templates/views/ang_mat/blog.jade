doctype html
div(ng-controller="HomeCtrl as blog" layout="vertical" flex)
  md-sidenav.md-sidenav-right.md-whiteframe-4dp(md-component-id="right" flex)
    md-toolbar
      h1(class="md-toolbar-tools") Categorias
    md-content(layout-padding="")
      md-button(ng-repeat="category in blog.categories" ng-click="refreshPosts(category.key)" class="md-primary" aria-label="Show Category {{category.name}}") {{category.name}}
      md-button(ng-click="closeRight()" class="md-primary" hide-gt-md aria-label="Close Categories") Cerrar  
  md-content(flex)
    md-button.back(ng-click="blog.toggleRight()" class="md-primary" aria-label="Toggle Categories" hide-gt-md) Categorias
    md-list
      md-item(ng-repeat="post in blog.posts")
        md-item-content
          //- md-whiteframe(class="md-whiteframe-z1" layout layout-align="center center" ng-class="{'md-whiteframe-z2': hover}" ng-mouseenter="hover = true" ng-mouseleave="hover = false")
            //- img(ng-src="{{post.image.url}}" class="face img" ng-click="go('/post/'+post.slug)")
          div(class="md-tile-content img" layout="row" layout-align="space-around center" ng-click="go('/post/'+post.slug)" ng-style="!isMobile && {'background-image':'url(' + post.image.secure_url + ')'} || {'background-color': 'white'}" ng-class="{'fondo_par':$even,'fondo_impar':$odd}")
            div.datos_post(flex-gt-sm="100" flex="50" ng-class="{'izquierda':$even,'derecha':$odd}")  
              h3 {{post.title}}
              h4 {{post.publishedDate | date:'longDate'}} 
              span(ng-repeat="category in post.categories")
                a(href="" ng-click="go('/blog/' + category.key)") {{category.name}}
                  //- md-button(ng-click="refreshPosts(category.key)") {{category.name}}
                  | {{$last ? ' ' : ', '}}
                //- {{post.content.brief}}
              //- div(ng-bind-html="post.content.brief")
                //- a(href="app#/post/{{post.slug}}") Read
                //- div(class="md-tile-right")
            div.imagen_post(flex-gt-sm="0" flex="50" hide-gt-sm)
              div
                img(src="{{post.image.secure_url}}")
        
        md-divider(ng-if="!$last" inset)
      div(ng-repeat="page in blog.response.pages")
        a(ng-href='#/blog?page={{page}}') {{page}}  
      //- md-list
      //-   md-item(ng-repeat="post in blog.posts")
      //-     md-item-content
      //-       p {{post}}
      //-       div(ng-style="{'background-image': 'url(' + post.url + ')'}")
      //-     md-divider(ng-if="!$last" inset)    
      //- 
